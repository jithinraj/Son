# Son

A subset of JSON.

While I love [how simple](http://json.org/) JSON is, the format sits at an awkward place on the spectrum between human and computer optimization. It's too rigid for human use (no trailing commas) and contains redundant information that computers don't need.

This extra information means that you can't round-trip JSON data faithfully through most machine representations because they'll throw away some details. While understandable, this can be a problem for things like hashing.

Son is a subset of JSON without redundant information. Son has no insignificant whitespace, no unnecessary escape sequences, no exponential notation, no leading or trailing zeros in numbers, and no negative zero. Son parsers/generators should have an easy time round-tripping Son data through their machine representation while keeping it byte-for-byte identical to the original.

# Status

Extremely WIP.

# Details

The formal part of its specification is [here](son.ebnf).

Additionally: object keys must be unique. Object members must be sorted by lexicographic order of their keys.

Railroad diagrams for Numbers and Strings follow. Because the diagrams for Objects, Arrays, Bools, and Null are unchanged from JSON, they're omitted here.

## Number

![Number](./diagram/number.png)

#### positive-integer:

![Positive Integer](./diagram/positive-integer.png)

#### fraction:

![Fraction](./diagram/fraction.png)

## String

![String](./diagram/string.png)

#### char:

![Char](./diagram/char.png)

# Notes

+ The diagrams were generated by [this site](http://www.bottlecaps.de/rr/ui), version v1.45.1338.

+ `./vendored/rfc7159.txt` is from [here](https://tools.ietf.org/rfc/rfc7159.txt).
